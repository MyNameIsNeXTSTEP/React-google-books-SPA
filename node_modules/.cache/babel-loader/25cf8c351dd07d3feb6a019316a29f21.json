{"ast":null,"code":"var _jsxFileName = \"/Users/mac/Desktop/REACT/React-google-books-SPA/src/Components/searchResult/BooksList.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useCallback, useState } from 'react';\nimport BookCard from './BookCard';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { loadMoreBooksAsync } from '../../actions/actions';\nimport Loader from './Loader';\nimport '../styles/BookList.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst START_INDEX = 30;\n\nfunction BooksList({\n  processedResults,\n  currentText\n}) {\n  _s();\n\n  const [startIndex, setStartIndex] = useState(START_INDEX);\n  const dispatch = useDispatch();\n  const loadMoreBooks = useCallback(() => {\n    console.log(currentText);\n    dispatch(loadMoreBooksAsync(currentText, startIndex));\n    setStartIndex(prevIndex => prevIndex + 30); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [startIndex, currentText]);\n  const loading = useSelector(state => state.isLoading.loading);\n  const BookCards = useCallback(() => processedResults.map(item => {\n    var _item$imageLinks$thum, _item$imageLinks;\n\n    const thumbNail = (_item$imageLinks$thum = item === null || item === void 0 ? void 0 : (_item$imageLinks = item.imageLinks) === null || _item$imageLinks === void 0 ? void 0 : _item$imageLinks.thumbnail) !== null && _item$imageLinks$thum !== void 0 ? _item$imageLinks$thum : '';\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"preview\",\n      children: /*#__PURE__*/_jsxDEV(BookCard, {\n        thumbNail: thumbNail,\n        title: item.title,\n        category: item.categories,\n        authors: item.authors,\n        description: item === null || item === void 0 ? void 0 : item.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 9\n      }, this)\n    }, item.canonicalVolumeLink, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }, this);\n  }), [processedResults]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"book-list\",\n      children: loading ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 20\n      }, this) : /*#__PURE__*/_jsxDEV(BookCards, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 33\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), processedResults.length ? /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"load-more-btn\",\n      onClick: loadMoreBooks,\n      children: \"Load more\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 34\n    }, this) : '']\n  }, void 0, true);\n}\n\n_s(BooksList, \"JFpAazaJCCvqr7j/Fqt5nkMd58E=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = BooksList;\nexport default BooksList;\n\nvar _c;\n\n$RefreshReg$(_c, \"BooksList\");","map":{"version":3,"sources":["/Users/mac/Desktop/REACT/React-google-books-SPA/src/Components/searchResult/BooksList.jsx"],"names":["React","useCallback","useState","BookCard","useSelector","useDispatch","loadMoreBooksAsync","Loader","START_INDEX","BooksList","processedResults","currentText","startIndex","setStartIndex","dispatch","loadMoreBooks","console","log","prevIndex","loading","state","isLoading","BookCards","map","item","thumbNail","imageLinks","thumbnail","title","categories","authors","description","canonicalVolumeLink","length"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,WAAhB,EAA6BC,QAA7B,QAA6C,OAA7C;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,kBAAT,QAAmC,uBAAnC;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAO,wBAAP;;;AAEA,MAAMC,WAAW,GAAG,EAApB;;AAEA,SAASC,SAAT,CAAmB;AAAEC,EAAAA,gBAAF;AAAoBC,EAAAA;AAApB,CAAnB,EAAsD;AAAA;;AAEpD,QAAM,CAACC,UAAD,EAAaC,aAAb,IAA8BX,QAAQ,CAACM,WAAD,CAA5C;AAEA,QAAMM,QAAQ,GAAGT,WAAW,EAA5B;AAEA,QAAMU,aAAa,GAAGd,WAAW,CAAC,MAAM;AACtCe,IAAAA,OAAO,CAACC,GAAR,CAAYN,WAAZ;AACAG,IAAAA,QAAQ,CAACR,kBAAkB,CAACK,WAAD,EAAcC,UAAd,CAAnB,CAAR;AAEAC,IAAAA,aAAa,CAAEK,SAAD,IAAeA,SAAS,GAAG,EAA5B,CAAb,CAJsC,CAMxC;AACC,GAPgC,EAO9B,CAACN,UAAD,EAAaD,WAAb,CAP8B,CAAjC;AASD,QAAMQ,OAAO,GAAGf,WAAW,CAAEgB,KAAD,IAAWA,KAAK,CAACC,SAAN,CAAgBF,OAA5B,CAA3B;AAEC,QAAMG,SAAS,GAAGrB,WAAW,CAAC,MAAOS,gBAAgB,CAACa,GAAjB,CAAsBC,IAAD,IAAU;AAAA;;AAClE,UAAMC,SAAS,4BAAGD,IAAH,aAAGA,IAAH,2CAAGA,IAAI,CAAEE,UAAT,qDAAG,iBAAkBC,SAArB,yEAAkC,EAAjD;AAEA,wBACE;AAAK,MAAA,SAAS,EAAC,SAAf;AAAA,6BACE,QAAC,QAAD;AACE,QAAA,SAAS,EAAEF,SADb;AAEE,QAAA,KAAK,EAAED,IAAI,CAACI,KAFd;AAGE,QAAA,QAAQ,EAAEJ,IAAI,CAACK,UAHjB;AAIE,QAAA,OAAO,EAAEL,IAAI,CAACM,OAJhB;AAKE,QAAA,WAAW,EAAEN,IAAF,aAAEA,IAAF,uBAAEA,IAAI,CAAEO;AALrB;AAAA;AAAA;AAAA;AAAA;AADF,OAA8BP,IAAI,CAACQ,mBAAnC;AAAA;AAAA;AAAA;AAAA,YADF;AAWD,GAdoC,CAAR,EAcxB,CAACtB,gBAAD,CAdwB,CAA7B;AAgBA,sBACE;AAAA,4BACE;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA,gBACGS,OAAO,gBAAG,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA,cAAH,gBAAgB,QAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAD1B;AAAA;AAAA;AAAA;AAAA,YADF,EAIGT,gBAAgB,CAACuB,MAAjB,gBAA0B;AAAQ,MAAA,SAAS,EAAC,eAAlB;AAAkC,MAAA,OAAO,EAAElB,aAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAA1B,GAAyG,EAJ5G;AAAA,kBADF;AAQD;;GAzCQN,S;UAIUJ,W,EAWFD,W;;;KAfRK,S;AA2CT,eAAeA,SAAf","sourcesContent":["import React, { useCallback, useState } from 'react'\nimport BookCard from './BookCard'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { loadMoreBooksAsync } from '../../actions/actions'\nimport Loader from './Loader'\nimport '../styles/BookList.css'\n\nconst START_INDEX = 30\n\nfunction BooksList({ processedResults, currentText }) {\n\n  const [startIndex, setStartIndex] = useState(START_INDEX)\n\n  const dispatch = useDispatch()\n\n  const loadMoreBooks = useCallback(() => {\n    console.log(currentText)\n    dispatch(loadMoreBooksAsync(currentText, startIndex))\n\n    setStartIndex((prevIndex) => prevIndex + 30)\n    \n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [startIndex, currentText])\n\n\tconst loading = useSelector((state) => state.isLoading.loading)\n\n  const BookCards = useCallback(() => (processedResults.map((item) => {\n    const thumbNail = item?.imageLinks?.thumbnail ?? ''\n\n    return (\n      <div className=\"preview\" key={item.canonicalVolumeLink}>\n        <BookCard\n          thumbNail={thumbNail}\n          title={item.title}\n          category={item.categories}\n          authors={item.authors}\n          description={item?.description}\n        />\n      </div>\n    )\n  })), [processedResults])\n\n  return (\n    <>\n      <div className=\"book-list\">\n        {loading ? <Loader /> : <BookCards />}\n      </div>\n      {processedResults.length ? <button className=\"load-more-btn\" onClick={loadMoreBooks}>Load more</button> : ''}\n    </>\n  )\n}\n\nexport default BooksList\n"]},"metadata":{},"sourceType":"module"}