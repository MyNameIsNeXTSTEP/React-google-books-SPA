{"ast":null,"code":"import { SET_BOOKS } from '../constants/ReduxConstants';\nimport { apiKey } from '../auth/apiKey';\nexport const setBooks = (books, searchText) => {\n  return {\n    type: SET_BOOKS,\n    payload: {\n      books,\n      searchText\n    }\n  };\n};\nexport const getBooks = searchText => {\n  return async dispatch => {\n    fetch(`https://www.googleapis.com/books/v1/volumes?q=${searchText}&key${apiKey}`).then(response => {\n      if (response.status !== 200) {\n        throw new Error('Bad response from server');\n      }\n\n      return response.json();\n    }).then(books => {\n      dispatch(setBooks(books.items, searchText));\n    }).catch(error => {\n      console.log(error);\n    });\n  };\n};","map":{"version":3,"sources":["/Users/mac/Desktop/REACT/books-finder/src/actions/actions.js"],"names":["SET_BOOKS","apiKey","setBooks","books","searchText","type","payload","getBooks","dispatch","fetch","then","response","status","Error","json","items","catch","error","console","log"],"mappings":"AAAA,SAASA,SAAT,QAA0B,6BAA1B;AACA,SAASC,MAAT,QAAuB,gBAAvB;AAEA,OAAO,MAAMC,QAAQ,GAAG,CAACC,KAAD,EAAQC,UAAR,KAAuB;AAC7C,SAAO;AACLC,IAAAA,IAAI,EAAEL,SADD;AAELM,IAAAA,OAAO,EAAE;AACPH,MAAAA,KADO;AAEPC,MAAAA;AAFO;AAFJ,GAAP;AAOD,CARM;AAUP,OAAO,MAAMG,QAAQ,GAAIH,UAAD,IAAgB;AACtC,SAAO,MAAOI,QAAP,IAAoB;AAExBC,IAAAA,KAAK,CAAE,iDAAgDL,UAAW,OAAMH,MAAO,EAA1E,CAAL,CACES,IADF,CACQC,QAAD,IAAc;AAClB,UAAIA,QAAQ,CAACC,MAAT,KAAoB,GAAxB,EAA6B;AAC3B,cAAM,IAAIC,KAAJ,CAAU,0BAAV,CAAN;AACD;;AACD,aAAOF,QAAQ,CAACG,IAAT,EAAP;AACD,KANF,EAOEJ,IAPF,CAOQP,KAAD,IAAW;AACfK,MAAAA,QAAQ,CAACN,QAAQ,CAACC,KAAK,CAACY,KAAP,EAAcX,UAAd,CAAT,CAAR;AACD,KATF,EAUEY,KAVF,CAUSC,KAAD,IAAW;AAChBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACD,KAZF;AAaF,GAfD;AAgBD,CAjBM","sourcesContent":["import { SET_BOOKS } from '../constants/ReduxConstants';\nimport { apiKey } from '../auth/apiKey'\n\nexport const setBooks = (books, searchText) => {\n  return {\n    type: SET_BOOKS,\n    payload: {\n      books,\n      searchText\n    },\n  };\n};\n\nexport const getBooks = (searchText) => {\n  return async (dispatch) => {\n\n     fetch(`https://www.googleapis.com/books/v1/volumes?q=${searchText}&key${apiKey}`)\n      .then((response) => {\n        if (response.status !== 200) {\n          throw new Error('Bad response from server');\n        }\n        return response.json();\n      })\n      .then((books) => {\n        dispatch(setBooks(books.items, searchText));\n      })\n      .catch((error) => {\n        console.log(error);\n      })\n  };\n};"]},"metadata":{},"sourceType":"module"}